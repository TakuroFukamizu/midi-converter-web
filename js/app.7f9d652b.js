(function(e){function t(t){for(var a,o,c=t[0],s=t[1],u=t[2],l=0,p=[];l<c.length;l++)o=c[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var s=n[o];0!==r[s]&&(a=!1)}a&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={app:0},i=[];function o(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"6b691529"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=a);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=o(e);var u=new Error;i=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",u.name="ChunkLoadError",u.type=a,u.request=i,n[1](u)}r[e]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"7faf":function(e,t,n){"use strict";n("b62a")},a4ac:function(e,t,n){},b62a:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-layout",{attrs:{view:"lHh Lpr lFf"}},[n("q-header",{staticClass:"glossy",attrs:{elevated:""}},[n("q-toolbar",[n("q-btn",{attrs:{flat:"",dense:"",round:"","aria-label":"Menu",icon:"menu"},on:{click:function(t){e.leftDrawerOpen=!e.leftDrawerOpen}}}),n("q-toolbar-title",[e._v("MIDI Conv")]),n("q-space"),n("div",[e.isDataChConnected?n("q-icon",{attrs:{name:"link"}}):n("q-icon",{attrs:{name:"link_off"}})],1)],1)],1),n("q-drawer",{attrs:{"show-if-above":"",bordered:"","content-class":"bg-grey-2"},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[n("q-list",[n("q-item",{attrs:{to:"/"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"home"}})],1),n("q-item-section",[n("q-item-label",[e._v("Home")]),n("q-item-label",{attrs:{caption:""}},[e._v("ホーム画面")])],1)],1),n("q-item",{attrs:{to:"/connect"}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"settings_ethernet"}})],1),n("q-item-section",[n("q-item-label",[e._v("Connect")]),n("q-item-label",{attrs:{caption:""}},[e._v("他のユーザと接続します")])],1)],1)],1)],1),n("q-page-container",[n("router-view")],1)],1)},i=[],o=(n("c975"),n("b0c0"),n("d3b7"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("d4ec")),c=n("bee2"),s=n("262e"),u=n("2caf"),l=n("9ab4"),d=n("1b40"),p=n("4bb5"),v=Object(p["a"])("midi"),f=Object(p["a"])("webRtc"),b=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.name="LayoutDefault",e.leftDrawerOpen=!1,e.receivedIds=[],e}return Object(c["a"])(n,[{key:"mounted",value:function(){var e=this;this.midiEventhub.on("rawMessageInput",this.onRawInputEvent),this.midiEventhub.on("message",(function(t){console.log("message",t);var n={id:t.id,timestamp:t.timestamp,data:t.data};e.sendMidiDataToRemote(n)})),this.webRtcEventhub.on("midiDataReceived",(function(t){var n=t.id;if(-1==e.receivedIds.indexOf(n)){e.receivedIds.push(n);var a=new Uint8Array(t.data),r=t.timestamp,i="Remote: ".concat(e.theirId),o=!0;e.addMidiData({id:n,from:i,isRemote:o,timestamp:r,data:a})}}))}}]),n}(d["b"]);Object(l["a"])([f.State("eventhub")],b.prototype,"webRtcEventhub",void 0),Object(l["a"])([f.Getter("isDataChConnected")],b.prototype,"isDataChConnected",void 0),Object(l["a"])([f.Getter("theirId")],b.prototype,"theirId",void 0),Object(l["a"])([f.Action("sendMidiData")],b.prototype,"sendMidiDataToRemote",void 0),Object(l["a"])([v.State("eventhub")],b.prototype,"midiEventhub",void 0),Object(l["a"])([v.Action("onRawInputEvent")],b.prototype,"onRawInputEvent",void 0),Object(l["a"])([v.Action("addMidiData")],b.prototype,"addMidiData",void 0),b=Object(l["a"])([d["a"]],b);var m=b,h=m,g=(n("7faf"),n("2877")),O=n("4d5a"),w=n("e359"),y=n("65c6"),j=n("9c40"),q=n("6ac5"),C=n("2c91"),k=n("0016"),I=n("9404"),_=n("1c1c"),x=n("66e5"),D=n("4074"),Q=n("0170"),R=n("09e3"),T=n("93dc"),M=n.n(T),S=Object(g["a"])(h,r,i,!1,null,null,null),P=S.exports;M()(S,"components",{QLayout:O["a"],QHeader:w["a"],QToolbar:y["a"],QBtn:j["a"],QToolbarTitle:q["a"],QSpace:C["a"],QIcon:k["a"],QDrawer:I["a"],QList:_["a"],QItem:x["a"],QItemSection:D["a"],QItemLabel:Q["a"],QPageContainer:R["a"]});var E=n("9483");Object(E["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var A=n("8c4f"),L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("midi-device-list"),n("midi-messages")],1)},U=[],$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("q-btn",{attrs:{color:"primary",label:"Load Devices",icon:"cached"},on:{click:e.getDevices}}),n("q-separator")],1)]),n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("q-tabs",{staticClass:"bg-primary text-white shadow-2",attrs:{align:"justify","narrow-indicator":""},model:{value:e.deviceTab,callback:function(t){e.deviceTab=t},expression:"deviceTab"}},[n("q-tab",{attrs:{name:"inputs",icon:"input",label:"Input"}}),n("q-tab",{attrs:{name:"outputs",icon:"outbond",label:"Output"}})],1),n("q-separator"),n("q-tab-panels",{attrs:{animated:""},model:{value:e.deviceTab,callback:function(t){e.deviceTab=t},expression:"deviceTab"}},[n("q-tab-panel",{attrs:{name:"inputs"}},[n("div",{staticClass:"text-h6"},[e._v("MIDI Input Devices")]),n("q-list",{attrs:{bordered:"",separator:""}},e._l(e.inputs,(function(t){return n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.device.id,attrs:{clickable:""}},[n("q-item-section",[n("q-item-label",[e._v(e._s(t.device.name))]),n("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.device.manufacturer)+" ")])],1),n("q-item-section",{attrs:{side:""}},[n("q-toggle",{attrs:{color:"blue",val:"use"},model:{value:t.use,callback:function(n){e.$set(t,"use",n)},expression:"input.use"}})],1)],1)})),1)],1),n("q-tab-panel",{attrs:{name:"outputs"}},[n("div",{staticClass:"text-h6"},[e._v("MIDI Output Devices")]),n("q-list",{attrs:{bordered:"",separator:""}},e._l(e.outputs,(function(t){return n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.device.id,attrs:{clickable:""}},[n("q-item-section",[n("q-item-label",[e._v(e._s(t.device.name))]),n("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.device.manufacturer)+" ")])],1),n("q-item-section",{attrs:{side:""}},[n("q-toggle",{attrs:{color:"blue",val:"use"},model:{value:t.use,callback:function(n){e.$set(t,"use",n)},expression:"output.use"}})],1)],1)})),1)],1)],1)],1)])])},N=[],G=Object(p["a"])("midi"),B=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.deviceTab="inputs",e}return n}(d["b"]);Object(l["a"])([G.State("inputs")],B.prototype,"inputs",void 0),Object(l["a"])([G.State("outputs")],B.prototype,"outputs",void 0),Object(l["a"])([G.Action("getDevices")],B.prototype,"getDevices",void 0),Object(l["a"])([G.Action("toggleInputDeviceUsage")],B.prototype,"toggleInputDeviceUsage",void 0),Object(l["a"])([G.Action("toggleOutputDeviceUsage")],B.prototype,"toggleOutputDeviceUsage",void 0),B=Object(l["a"])([d["a"]],B);var H=B,Y=H,z=n("eb85"),F=n("429b"),K=n("7460"),J=n("adad"),V=n("823b"),W=n("9564"),X=n("714f"),Z=Object(g["a"])(Y,$,N,!1,null,"49c753c7",null),ee=Z.exports;M()(Z,"components",{QBtn:j["a"],QSeparator:z["a"],QTabs:F["a"],QTab:K["a"],QTabPanels:J["a"],QTabPanel:V["a"],QList:_["a"],QItem:x["a"],QItemSection:D["a"],QItemLabel:Q["a"],QToggle:W["a"]}),M()(Z,"directives",{Ripple:X["a"]});var te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-card",[n("q-list",{attrs:{bordered:"",separator:""}},e._l(e.messages,(function(t){return n("q-item",{key:t.id},[n("q-item-section",[n("q-item-label",[e._v(e._s(e.parseMidiMessage(t.data))+" ("+e._s(t.data)+")")]),n("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.id)+" "+e._s(t.timestamp)+" "+e._s(t.from)+" ")])],1)],1)})),1)],1)},ne=[],ae=(n("99af"),Object(p["a"])("midi")),re=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"parseMidiMessage",value:function(e){var t=e[0],n=t>>>4,a=15&t,r="";switch(n){case 9:r="noteon";break;case 8:r="noteoff";break}if("noteon"==r||"noteoff"==r){var i=e[1],o=e[2];return"".concat(r," ch:").concat(a," note:").concat(i," velocity:").concat(o)}return"unknown"}}]),n}(d["b"]);Object(l["a"])([ae.State("messages")],re.prototype,"messages",void 0),re=Object(l["a"])([d["a"]],re);var ie=re,oe=ie,ce=n("f09f"),se=Object(g["a"])(oe,te,ne,!1,null,"a91e249e",null),ue=se.exports;M()(se,"components",{QCard:ce["a"],QList:_["a"],QItem:x["a"],QItemSection:D["a"],QItemLabel:Q["a"]});var le=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(d["b"]);le=Object(l["a"])([Object(d["a"])({components:{MidiDeviceList:ee,MidiMessages:ue}})],le);var de=le,pe=de,ve=n("9989"),fe=Object(g["a"])(pe,L,U,!1,null,null,null),be=fe.exports;M()(fe,"components",{QPage:ve["a"]});var me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pa-md"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("q-card",[n("q-card-section",[n("p",{staticClass:"text-h6"},[e._v("Connection")])]),n("q-card-section",[e.isConnected?n("div",[n("q-input",{attrs:{label:"Your Peer ID",readonly:""},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-btn",{attrs:{icon:"content_copy"},on:{click:e.witeToClipboard}})]},proxy:!0}]),model:{value:e.peerId,callback:function(t){e.peerId=t},expression:"peerId"}})],1):n("div",[n("q-btn",{attrs:{color:"primary",icon:"link"},on:{click:e.createPeer}},[e._v("Get PeerID")])],1)])],1)],1)]),n("q-separator"),n("div",{staticClass:"row"},[e.isDataChConnected?n("div",{staticClass:"col"},[n("q-card",[n("q-card-section",[n("p",{staticClass:"text-h6"},[e._v("Current Connection")])]),n("q-card-section",[n("p",[e._v("Their ID: "+e._s(e.theirId))]),n("q-btn",{attrs:{color:"red",icon:"link_off"},on:{click:e.closeCall}},[e._v("Disconnect")])],1)],1)],1):n("div",{staticClass:"col"},[n("q-card",[n("q-card-section",[n("p",{staticClass:"text-h6"},[e._v("Make call")])]),n("q-card-section",[n("q-input",{attrs:{outlined:"",label:"Their Id"},model:{value:e.requestTheirId,callback:function(t){e.requestTheirId=t},expression:"requestTheirId"}}),n("q-btn",{attrs:{color:"secondary",icon:"link",disable:"!isConnected"},on:{click:function(t){return e.makeCall(e.requestTheirId)}}},[e._v("Call")])],1)],1)],1)])],1)},he=[],ge=(n("96cf"),n("1da1")),Oe=Object(p["a"])("webRtc"),we=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.requestTheirId="",e}return Object(c["a"])(n,[{key:"witeToClipboard",value:function(){var e=Object(ge["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText(this.peerId);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(d["b"]);Object(l["a"])([Oe.Action("createPeer")],we.prototype,"createPeer",void 0),Object(l["a"])([Oe.Action("makeCall")],we.prototype,"makeCall",void 0),Object(l["a"])([Oe.Action("closeCall")],we.prototype,"closeCall",void 0),Object(l["a"])([Oe.Getter("isConnected")],we.prototype,"isConnected",void 0),Object(l["a"])([Oe.Getter("isDataChConnected")],we.prototype,"isDataChConnected",void 0),Object(l["a"])([Oe.Getter("theirId")],we.prototype,"theirId",void 0),Object(l["a"])([Oe.State("peerId")],we.prototype,"peerId",void 0),we=Object(l["a"])([d["a"]],we);var ye=we,je=ye,qe=n("a370"),Ce=n("27f9"),ke=Object(g["a"])(je,me,he,!1,null,null,null),Ie=ke.exports;M()(ke,"components",{QCard:ce["a"],QCardSection:qe["a"],QBtn:j["a"],QInput:Ce["a"],QSeparator:z["a"]}),a["a"].use(A["a"]);var _e=[{path:"/",name:"Home",component:be},{path:"/connect",name:"Connect",component:Ie},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],xe=new A["a"]({routes:_e}),De=xe,Qe=n("2f62"),Re={peer:function(e){return e.peer},peerId:function(e){return e.peerId},dataConnection:function(e){return e.dataConnection},theirId:function(e){var t;return null===(t=e.dataConnection)||void 0===t?void 0:t.remoteId},isConnected:function(e){return null!=e.peer&&e.peerId.length>0},isDataChConnected:function(e){var t;return!0===(null===(t=e.dataConnection)||void 0===t?void 0:t.open)}},Te=Re,Me=n("0b69"),Se=n.n(Me),Pe={createPeer:function(){var e=Object(ge["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.state,n=t.commit,a=t.dispatch,r=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SKYWAY_API_KEY||"",0!=r.length){e.next=4;break}throw new Error("SkyWay API Key is invalid");case 4:i=new Se.a({key:r}),n("setPeer",i),i.on("open",(function(){return n("setPeerId",i.id),i.on("connection",(function(e){a("setupDataConnction",e)})),!0}));case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),makeCall:function(){var e=Object(ge["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.state,r=t.dispatch,i=a.peer.connect(n),r("setupDataConnction",i),e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),setupDataConnction:function(e,t){var n=e.state,a=e.commit;t.on("data",(function(e){var t=e;n.eventhub.emit("midiDataReceived",t)})),t.on("error",(function(e){console.error("dataConnection has error. ",e)})),a("setDataConnection",t)},closeCall:function(e){var t,n=e.state;e.commit;null===(t=n.dataConnection)||void 0===t||t.close(!0)},sendMidiData:function(e,t){var n,a=e.state;e.commit;null===(n=a.dataConnection)||void 0===n||n.send(t)}},Ee=Pe,Ae={setPeer:function(e,t){e.peer=t},setPeerId:function(e,t){e.peerId=t},setDataConnection:function(e,t){e.dataConnection=t}},Le=Ae,Ue=n("faa1"),$e=n.n(Ue),Ne={peer:null,peerId:"",dataConnection:null,eventhub:new $e.a},Ge={namespaced:!0,state:Ne,getters:Te,actions:Ee,mutations:Le},Be={inputs:function(e){return e.inputs},outputs:function(e){return e.outputs},messages:function(e){return e.messages}},He=Be,Ye=(n("ddb0"),n("b85c")),ze=n("ec26"),Fe=[],Ke={getDevices:function(){var e=Object(ge["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,i,o,c,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,a=t.commit,n.inputs=[],n.outputs=[],e.next=5,navigator.requestMIDIAccess();case 5:for(r=e.sent,r.onstatechange=function(e){console.info(e.port.name,e.port.manufacturer,e.port.state)},i=r.inputs.values(),o=i.next();!o.done;o=i.next())console.log(o.value),o.value.onmidimessage=function(e){return n.eventhub.emit("rawMessageInput",e)},a("addInput",o.value);for(c=r.outputs.values(),s=c.next();!s.done;s=c.next())console.log(s.value),a("addOutput",s.value);case 11:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),toggleInputDeviceUsage:function(){var e=Object(ge["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.state,r=t.commit,i=Object(Ye["a"])(a.inputs),e.prev=2,i.s();case 4:if((o=i.n()).done){e.next=14;break}if(c=o.value,c.device.id==n.input.device.id){e.next=8;break}return e.abrupt("continue",12);case 8:if(c.use!=n.use){e.next=10;break}return e.abrupt("return",!1);case 10:return r("updateInputDevice",n.input),e.abrupt("return",!0);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](2),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:return e.abrupt("return",!1);case 23:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));function t(t,n){return e.apply(this,arguments)}return t}(),toggleOutputDeviceUsage:function(){var e=Object(ge["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.state,r=t.commit,i=Object(Ye["a"])(a.outputs),e.prev=2,i.s();case 4:if((o=i.n()).done){e.next=14;break}if(c=o.value,c.device.id==n.output.device.id){e.next=8;break}return e.abrupt("continue",12);case 8:if(c.use!=n.use){e.next=10;break}return e.abrupt("return",!1);case 10:return r("updateOutputDevice",n.output),e.abrupt("return",!0);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](2),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:return e.abrupt("return",!1);case 23:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));function t(t,n){return e.apply(this,arguments)}return t}(),onRawInputEvent:function(){var e=Object(ge["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,i,o,c,s,u,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.state,r=t.dispatch,n){e.next=3;break}return e.abrupt("return");case 3:console.log("onRawInputEvent",n),i=n.target,o=Object(Ye["a"])(a.inputs),e.prev=6,o.s();case 8:if((c=o.n()).done){e.next=16;break}if(s=c.value,u=s.device,l=s.use,u.id==i.id){e.next=12;break}return e.abrupt("continue",14);case 12:if(l){e.next=14;break}return e.abrupt("return");case 14:e.next=8;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](6),o.e(e.t0);case 21:return e.prev=21,o.f(),e.finish(21);case 24:d={id:Object(ze["a"])(),from:i.name||"undefined",isRemote:!1,timestamp:n.timeStamp,data:n.data},a.eventhub.emit("message",d),r("addMidiData",d);case 27:case"end":return e.stop()}}),e,null,[[6,18,21,24]])})));function t(t,n){return e.apply(this,arguments)}return t}(),addMidiData:function(e,t){var n=e.state,a=e.commit;if(-1==Fe.indexOf(t.id)){var r,i=Object(Ye["a"])(n.outputs);try{for(i.s();!(r=i.n()).done;){var o=r.value,c=o.device,s=o.use;s&&c.send(t.data)}}catch(u){i.e(u)}finally{i.f()}a("addMessage",t)}}},Je=Ke,Ve=(n("fb6a"),{addInput:function(e,t){e.inputs.push({kind:"input",device:t,use:!1})},addOutput:function(e,t){e.outputs.push({kind:"output",device:t,use:!1})},addMessage:function(e,t){e.messages.unshift(t),e.messages.length>e.messageSizeLimit&&(e.messages=e.messages.slice(0,e.messageSizeLimit))},updateInputDevice:function(e,t){for(var n=0;n<e.inputs.length;n++)e.inputs[n].device.id==t.device.id&&(e.inputs[n]=t)},updateOutputDevice:function(e,t){for(var n=0;n<e.outputs.length;n++)e.outputs[n].device.id==t.device.id&&(e.outputs[n]=t)}}),We=Ve,Xe={inputs:[],outputs:[],eventhub:new $e.a,messages:[],messageSizeLimit:20},Ze={namespaced:!0,state:Xe,getters:He,actions:Je,mutations:We};a["a"].use(Qe["a"]);var et=new Qe["a"].Store({state:{},mutations:{},actions:{},modules:{webRtc:Ge,midi:Ze}}),tt=(n("a4ac"),n("5521")),nt=(n("e54f"),n("b05d"));a["a"].use(nt["a"],{config:{},plugins:{},lang:tt["a"]}),a["a"].config.productionTip=!1,new a["a"]({router:De,store:et,render:function(e){return e(P)}}).$mount("#app")}});
//# sourceMappingURL=app.7f9d652b.js.map